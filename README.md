# OS-LABS
Labs in BUAA OS
本仓库用来收集我在BUAA的OS课程实验的实验代码，欢迎大家一起讨论
全部实验题目都来自于Stanford CS140
## 环境配置问题
- 下载Ubuntu16.04LTS，然后按照老师给的文档一步一步来即可
- 注意：不要换成国内的源，否则可能会导致下载的依赖版本不对，使得pintos跑起来之后不停地频闪
## LAB0
### 火车到站
这个问题其实并不是很复杂，关键在于读懂runner文件，并且理解caltrain.c中各个函数的用途，之后就不难了。
各函数用途：
- station_wait_for_train：乘客等待列车的函数，乘客在执行这个函数的时候应该有一个条件变量让他们等待列车出现
- station_load_train：用来唤醒将要上车的乘客，执行这个函数的时候应该唤醒在上一个函数中等待在条件变量上的乘客。全部唤醒之后列车应该在一个条件变量上等待所有乘客上车完毕
- station_on_board：这个函数是用来让被上一个函数唤醒的乘客上车的，并且择机使列车离开
### 化学反应
这个问题其实比上一道题简单，而且reaction_o和reaction_h本质上是一样的两个函数。他们的工作都是先获得锁，然后检查是否可以反应，如果可以则反应，否则就简单的改变reaction中存在的氧原子或氢原子数量